import{s as h,x as p,t as v,y as w,v as x}from"./VRow-8b36f19f.js";import{_ as B}from"./GifCardComponent.vue_vue_type_script_setup_true_lang-6205e234.js";import{U as d,r as i,c as V,o as k,x as y,_ as C,Z as G,W as a,X as s,V as t,m as c,$ as S,a0 as E,J as L,a1 as M,a2 as U,O as $,j as H}from"./index-90e24141.js";const N={class:"d-flex align-center",style:{height:"80px"}},Q=d({__name:"GifsGridComponent",setup(m){const e=h(),r=i(e.gifs),o=i(!1),l=V({get:()=>e.searchQuery,set:n=>e.setSearchQuery(n)});k(()=>{e.fetchTrandingGifs(),window.addEventListener("scroll",u),y(e,n=>{r.value=n.gifs})}),C(()=>{window.removeEventListener("scroll",u)});const u=()=>{window.innerHeight+window.scrollY>=document.documentElement.offsetHeight-500&&!o.value&&(console.log("handleScroll"),o.value||(o.value=!0,setTimeout(()=>{l.value&&l.value.length>0?e.searchGifs(l.value):e.loadMore(),o.value=!1},800)))};return(n,F)=>{const _=G("router-link");return t(),a(p,null,{default:s(()=>[c(v,null,{default:s(()=>[(t(!0),S(L,null,E(r.value,(f,g)=>(t(),a(x,{key:g,cols:"12",sm:"12",md:"4",lg:"3"},{default:s(()=>[c(_,{to:`/details/${f.id}`},{default:s(()=>[c(B,{gif:f},null,8,["gif"])]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1}),M("div",N,[o.value?(t(),a(w,{key:0,indeterminate:"",height:2})):U("",!0)])]),_:1})}}}),O=d({__name:"Home",setup(m){const e=i([]);return $(()=>{console.log("onBeforeMount")}),H(()=>{console.log("onBeforeUnmount")}),(r,o)=>(t(),a(Q,{gifs:e.value},null,8,["gifs"]))}});export{O as default};
